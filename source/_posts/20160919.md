---
title: ES6对函数的扩展
date: 2016-09-19 17:30:37
tags:
---

<!--more-->
### 基本用法
```js
function log(x, y= 'World'){
    console.log(x, y);
}
```

- 参数变量是默认就已经声明了的，所有不能在函数内用`let`或`const`再次声明同名变量；
- 注意下面两种写法的区别：第一中写法函数的参数默认值是空对象，但设置了对象解构赋值的默认值，而第二种写法中函数的参数的默认值是一个具有属性的对象，但是没有给对象解构赋值设置默认值。
```js
//写法1
function m1({x = 0, y = 0} = {}){
    return [x, y];
}

//写法二
function m2({x, y} = {x: 0, y:0}){
     return [x, y];
}

m1() //[0, 0];
m2() //[0, 0];

m1({x: 1, y: 2}) //[1, 2];
m2({x: 1, y: 2}) //[1, 2];

m1({x: 1}) //[1, 0];
m2({x: 1}) //[1, undefined];

m1({}) //[0, 0];
m2({}) //[undefined, undefined];
```

- 默认参数只能放在最后，即只能是在所有非默认参数的后面；
- 指定默认参数后，函数的`length`属性将返回**非**默认参数的个数；
- 如果函数`A`的参数默认值是函数`B`，那么由于函数的作用域是其生命时所在的作用域，即函数`B`的作用域就不是在函数`A`内，而是在函数`A`的外面；

===待续===